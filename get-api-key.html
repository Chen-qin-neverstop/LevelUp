<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…è´¹API Keyè·å–æŒ‡å—</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .guide-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .api-guide {
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            transition: all 0.3s ease;
        }
        
        .api-guide:hover {
            border-color: #4a90e2;
            box-shadow: 0 4px 12px rgba(74, 144, 226, 0.1);
        }
        
        .api-guide.recommended {
            border-color: #28a745;
            background: #f8fff9;
        }
        
        .api-title {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .badge.recommended {
            background: #d4edda;
            color: #155724;
        }
        
        .badge.fast {
            background: #fff3cd;
            color: #856404;
        }
        
        .badge.powerful {
            background: #d1ecf1;
            color: #0c5460;
        }
        
        .steps {
            margin: 15px 0;
        }
        
        .step {
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
        }
        
        .step::before {
            content: 'â†’';
            position: absolute;
            left: 0;
            color: #4a90e2;
            font-weight: bold;
        }
        
        .api-input {
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .api-input input {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .api-input button {
            background: #28a745;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .api-input button:hover {
            background: #218838;
        }
        
        .features {
            margin: 15px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .feature {
            display: flex;
            align-items: center;
            margin: 5px 0;
            font-size: 14px;
        }
        
        .feature::before {
            content: 'âœ“';
            color: #28a745;
            font-weight: bold;
            margin-right: 8px;
        }
        
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 10px 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .link-button {
            display: inline-block;
            background: #4a90e2;
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 6px;
            margin: 10px 5px 0 0;
            transition: background 0.3s ease;
        }
        
        .link-button:hover {
            background: #357abd;
        }
        
        .back-link {
            display: inline-block;
            margin-top: 20px;
            color: #4a90e2;
            text-decoration: none;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="guide-container">
        <div class="header">
            <h1>ğŸ”‘ å…è´¹å¤§æ¨¡å‹APIè·å–æŒ‡å—</h1>
            <p>é€‰æ‹©é€‚åˆæ‚¨çš„å…è´¹AIæœåŠ¡ï¼Œè®©å‡¯ç‘Ÿç³æ¥å…¥çœŸæ­£çš„å¤§æ¨¡å‹</p>
        </div>

        <!-- Groq API - æ¨è -->
        <div class="api-guide recommended">
            <div class="api-title">
                ğŸš€ Groq API 
                <span class="badge recommended">æœ€æ¨è</span>
                <span class="badge fast">è¶…å¿«é€Ÿ</span>
            </div>
            <p><strong>å®Œå…¨å…è´¹ï¼Œå“åº”é€Ÿåº¦è¶…å¿«ï¼ˆæ¯«ç§’çº§ï¼‰ï¼Œæ³¨å†Œå³ç”¨</strong></p>
            
            <div class="features">
                <div class="feature">æ¯æœˆå…è´¹14,400æ¬¡è¯·æ±‚</div>
                <div class="feature">æ”¯æŒLlama 3æ¨¡å‹</div>
                <div class="feature">å“åº”é€Ÿåº¦æå¿«</div>
                <div class="feature">æ— éœ€ä¿¡ç”¨å¡éªŒè¯</div>
            </div>
            
            <div class="steps">
                <div class="step">è®¿é—® <a href="https://console.groq.com" target="_blank">console.groq.com</a></div>
                <div class="step">ä½¿ç”¨Google/GitHubè´¦å·æ³¨å†Œ</div>
                <div class="step">è¿›å…¥API Keysé¡µé¢</div>
                <div class="step">ç‚¹å‡»"Create API Key"</div>
                <div class="step">å¤åˆ¶ç”Ÿæˆçš„API Key</div>
            </div>
            
            <div class="api-input">
                <input type="password" id="groq-key" placeholder="gsk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx">
                <button onclick="saveGroqKey()">ä¿å­˜Groq API Key</button>
            </div>
        </div>

        <!-- DeepSeek API -->
        <div class="api-guide">
            <div class="api-title">
                ğŸ§  DeepSeek API
                <span class="badge powerful">å¼ºå¤§</span>
            </div>
            <p><strong>ä¸­æ–‡ä¼˜åŒ–çš„å¼ºå¤§AIæ¨¡å‹ï¼Œæ–°ç”¨æˆ·æœ‰å……è¶³å…è´¹é¢åº¦</strong></p>
            
            <div class="features">
                <div class="feature">ä¸“é—¨ä¼˜åŒ–ä¸­æ–‡å¯¹è¯</div>
                <div class="feature">æ–°ç”¨æˆ·å…è´¹é¢åº¦</div>
                <div class="feature">æ”¯æŒé•¿ä¸Šä¸‹æ–‡</div>
            </div>
            
            <div class="steps">
                <div class="step">è®¿é—® <a href="https://platform.deepseek.com" target="_blank">platform.deepseek.com</a></div>
                <div class="step">æ³¨å†ŒDeepSeekè´¦å·</div>
                <div class="step">å®Œæˆæ‰‹æœºéªŒè¯</div>
                <div class="step">è¿›å…¥APIç®¡ç†é¡µé¢</div>
                <div class="step">åˆ›å»ºæ–°çš„API Key</div>
            </div>
            
            <div class="api-input">
                <input type="password" id="deepseek-key" placeholder="sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx">
                <button onclick="saveDeepSeekKey()">ä¿å­˜DeepSeek API Key</button>
            </div>
        </div>

        <!-- OpenAI API -->
        <div class="api-guide">
            <div class="api-title">
                ğŸ¤– OpenAI API
                <span class="badge powerful">æœ€å¼ºå¤§</span>
            </div>
            <p><strong>æœ€å¼ºå¤§çš„GPTæ¨¡å‹ï¼Œæ–°ç”¨æˆ·æœ‰18ç¾å…ƒå…è´¹é¢åº¦</strong></p>
            
            <div class="features">
                <div class="feature">GPT-3.5-turboæ¨¡å‹</div>
                <div class="feature">æ–°ç”¨æˆ·18ç¾å…ƒå…è´¹é¢åº¦</div>
                <div class="feature">æœ€æˆç†Ÿçš„AIæŠ€æœ¯</div>
            </div>
            
            <div class="warning">
                <strong>æ³¨æ„ï¼š</strong>éœ€è¦ç§‘å­¦ä¸Šç½‘å’Œå›½å¤–æ‰‹æœºå·/ä¿¡ç”¨å¡éªŒè¯
            </div>
            
            <div class="steps">
                <div class="step">è®¿é—® <a href="https://platform.openai.com" target="_blank">platform.openai.com</a></div>
                <div class="step">æ³¨å†ŒOpenAIè´¦å·</div>
                <div class="step">å®Œæˆæ‰‹æœºå·éªŒè¯</div>
                <div class="step">ç»‘å®šæ”¯ä»˜æ–¹å¼ï¼ˆå…è´¹é¢åº¦ç”¨å®Œåæ‰ä¼šæ‰£è´¹ï¼‰</div>
                <div class="step">ç”ŸæˆAPI Key</div>
            </div>
            
            <div class="api-input">
                <input type="password" id="openai-key" placeholder="sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx">
                <button onclick="saveOpenAIKey()">ä¿å­˜OpenAI API Key</button>
            </div>
        </div>

        <!-- Together AI -->
        <div class="api-guide">
            <div class="api-title">
                ğŸ¤ Together AI
                <span class="badge recommended">å…è´¹</span>
            </div>
            <p><strong>æä¾›å¤šç§å¼€æºæ¨¡å‹ï¼Œæ³¨å†Œå³è·å…è´¹é¢åº¦</strong></p>
            
            <div class="features">
                <div class="feature">å¤šç§Llamaæ¨¡å‹é€‰æ‹©</div>
                <div class="feature">æ–°ç”¨æˆ·å…è´¹5ç¾å…ƒé¢åº¦</div>
                <div class="feature">æ”¯æŒæœ€æ–°å¼€æºæ¨¡å‹</div>
            </div>
            
            <div class="steps">
                <div class="step">è®¿é—® <a href="https://api.together.xyz" target="_blank">api.together.xyz</a></div>
                <div class="step">æ³¨å†ŒTogetherè´¦å·</div>
                <div class="step">è¿›å…¥APIè®¾ç½®</div>
                <div class="step">ç”ŸæˆAPI Key</div>
            </div>
            
            <div class="api-input">
                <input type="password" id="together-key" placeholder="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx">
                <button onclick="saveTogetherKey()">ä¿å­˜Together API Key</button>
            </div>
        </div>

        <div class="warning">
            <strong>ğŸ”’ å®‰å…¨æç¤ºï¼š</strong>API Keyæ˜¯æ‚¨çš„ç§å¯†ä¿¡æ¯ï¼Œè¯·å¦¥å–„ä¿ç®¡ã€‚è¿™äº›é…ç½®åªä¿å­˜åœ¨æ‚¨çš„æœ¬åœ°æœåŠ¡å™¨ä¸­ã€‚
        </div>

        <a href="/" class="back-link">â† è¿”å›èŠå¤©ç•Œé¢</a>
        <a href="/config.html" class="link-button">é…ç½®é¡µé¢</a>
    </div>

    <script>
        async function saveAPI(provider, key, placeholder) {
            if (!key || key === placeholder) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„API Key');
                return;
            }

            try {
                const response = await fetch('/api/config', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        provider: provider,
                        key: key
                    })
                });

                const result = await response.json();
                if (result.success) {
                    alert(`${provider} APIé…ç½®æˆåŠŸï¼ç°åœ¨å¯ä»¥ä½¿ç”¨çœŸæ­£çš„å¤§æ¨¡å‹äº†ğŸ‰`);
                    // å¯é€‰ï¼šåˆ·æ–°é¡µé¢æˆ–è·³è½¬
                    window.location.href = '/';
                } else {
                    alert('é…ç½®å¤±è´¥ï¼š' + result.message);
                }
            } catch (error) {
                alert('ä¿å­˜æ—¶å‡ºé”™ï¼š' + error.message);
            }
        }

        function saveGroqKey() {
            const key = document.getElementById('groq-key').value;
            saveAPI('groq', key, 'gsk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx');
        }

        function saveDeepSeekKey() {
            const key = document.getElementById('deepseek-key').value;
            saveAPI('deepseek', key, 'sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx');
        }

        function saveOpenAIKey() {
            const key = document.getElementById('openai-key').value;
            saveAPI('openai', key, 'sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx');
        }

        function saveTogetherKey() {
            const key = document.getElementById('together-key').value;
            saveAPI('together', key, 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx');
        }
    </script>
</body>
</html>
